---
description: Module die alle functies bevat die nodig zijn om de snelste route te
  vinden langs een gegeven serie locaties.
output-file: route_get.html
title: Route planner

---



<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## Openrouteservice API toelichting

We gebruiken de Openrouteservice API met de Python client (https://openrouteservice-py.readthedocs.io/en/latest/).
Voor het aantal berekeningen dat we moeten doen is toestemming nodig als je dat op de server van Openrouteservice zelf wil doen. Jelle heeft hier toestemming voor gerkegen. De API key is dus aan zijn account gekoppeld en niet aan WDODelta.

## Bepaald de coordinaten van de startlocatie.

We vinden hier hier de longitude en latitude coordinaten van de startlocatie die als adres kan worden opgegeven in de `settings.yaml` file.

We gebruiken hiervoor de Nominatim geocoder (https://python-geopy-homework.readthedocs.io/en/latest/geocoders/nominatim.html) en niet de Openrouteservice, omdat (voor zover Jelle weet) Openrouteservice deze optie niet biedt.

---

### get_lonlat_start_location

>      get_lonlat_start_location (address:str='Dokter van Deenweg 186, 8025 BM,
>                                 Zwolle')

*Get the longitude and latitude coordinates from a given adress*


## Haal de coordinaten van de peilbuislocaties op uit de peilbuizen dataframe.

---

### df_to_longlat_tuple

>      df_to_longlat_tuple (df, longitude_column, latitude_column)

*Get the longitude and latitude coordinates from all rows in a pandas dataframe
and return a list of longitude, latitude tuples*


## Find the shortest route through all locations starting at the start location and ending at the start location. Using the openrouteservice API.

---

### create_optimized_route

>      create_optimized_route (start_address:str,
>                              df:pandas.core.frame.DataFrame,
>                              route_profile:str, long_clmn:str='Longitude',
>                              lat_clmn:str='latitude')

*Solve the traveling salesman problem (visit all given points exactly once in the 
shortes possible route) for a given start adress and pandas dataframe with longitude
and latitude columns.*

|    | **Type** | **Default** | **Details** |
| -- | -------- | ----------- | ----------- |
| start_address | str |  | De startlocatie en eindlocatie opgegeven als adres |
| df | DataFrame |  | Dataframe met peilbuizen en coordinaten in WGS84 |
| route_profile | str |  | Het route profiel (transport methode) waarvoor de route berekend moet worden |
| long_clmn | str | Longitude | Dataframe kolomnaam met de longitude coordinaten in WGS84 |
| lat_clmn | str | latitude | Dataframe kolomnaam met de latitude coordinaten in WGS84 |


